<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>테스트 제출 폼</title>
  </head>
  <body>
    <input type="text" id="name" placeholder="이름을 입력하세요">
    <button onclick="submitForm()">제출하기8</button>

    <script>
function submitForm() {
  const name = document.getElementById("name").value;
  
  if (!name.trim()) {
    alert("이름을 입력해주세요.");
    return;
  }
  
  fetch('https://script.google.com/macros/s/AKfycbxdeOilBGOdZWToG58j_UXFzuW5T3lJOJmiXxZLMAYezukLyGVseEcw6j_8K3wWnxuq/exec', {
    method: 'POST',
    mode: 'no-cors', // CORS 모드 명시
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ name: name })
  })
  .then(response => {
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    return response.text();
  })
  .then(result => {
    alert("응답: " + result);
  })
  .catch(error => {
  // 실제로는 no-cors 때문에 여기로 오지만,
  // 데이터는 이미 성공적으로 전송됐다고 가정함
    console.error('상세 오류:', error);
   // alert("오류 발생: " + error.message);
    alert("입력이 성공했습니다.");
  });
}    
    </script>
  </body>
</html>
